<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>deepstream.io | Telling the world what it wants to hear</title>

	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="deepstream, deepstream.io, streaming, realtime, server, socket" />
	<meta name="description" content="Realtime systems have a reputation of being expensive to run. The reason usually being that for simplicities sake, data providers inform the universe of everything they possibly could, and in turn if the client ever wants to know something, the universe will provide it. Philosophically, this had a couple of documentaries made about it. Technically, this has quite a few drawbacks." />
	<meta name="author" content="Wolfram Hempel" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="../../assets/css/navigation.css" />
	<link rel="stylesheet" type="text/css" href="../../assets/css/screen.css" />
	<script type="text/javascript">
	document.createElement( 'header' );
	document.createElement( 'nav' );
	</script>
	<script type="text/javascript" src="../../assets/js/jquery.js"></script>
	<script type="text/javascript" src="../../assets/js/menu.js"></script>
	<script type="text/javascript" src="../../assets/js/prism.js"></script>

	<link href='//fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
	<link href='//fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
	<link href='//fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../../assets/css/prism.css" />
</head>

<body class="category_listen-benefits ">
	<div class="mobile-menu">
		<div class="nav mobile-nav">
			<ul>
				<li ><a href="../..">Home</a></li>
				<li ><a href="../../download/">Downloads</a></li>
				<li ><a href="../../tutorials/getting-started.html">Tutorials</a></li>
				<li ><a href="../../docs/deepstream.html">Documentation</a></li>
				<li class="active"><a href="../../blog/">Blog</a></li>
				<li ><a href="../../info/">Info</a></li>
			</ul>		</div>
	</div>

	<div id="outer-wrapper">
		<div id="header" class="compact-header">
			<div class="header-tiny-logo">
				<h1><a href="../..">deepstream.io - a scalable server for realtime web apps</a></h1>
			</div>
			<div class="nav desktop-nav">
				<ul>
					<li ><a href="../..">Home</a></li>
					<li ><a href="../../download/">Downloads</a></li>
					<li ><a href="../../tutorials/getting-started.html">Tutorials</a></li>
					<li ><a href="../../docs/deepstream.html">Documentation</a></li>
					<li class="active"><a href="../../blog/">Blog</a></li>
					<li ><a href="../../info/">Info</a></li>
				</ul>			</div>
			<span class="menu-button menu-icon">
				<i class="fa fa-bars"></i>
			</span>
		</div>
<link rel="stylesheet" type="text/css" href="../../assets/css/community.css" />
<link rel="stylesheet" type="text/css" href="../../assets/css/blog.css" />

<div id="wrapper" class="blog-wrapper">

	<div class="post">

		<header class="post-header">
			<h1 class="post-title">Telling the world what it wants to hear</h1>
			<section class="post-meta">
				By Yasser Fadl
				<span class="post-date">February 16th 2016</span>
			</section>
		</header>

		<section class="post-content">
<p>Realtime systems have a reputation of being expensive to run. The reason usually being that for simplicities sake, data providers inform the universe of everything they possibly could, and in turn if the client ever wants to know something, the universe will provide it. Philosophically, this had a couple of documentaries made about it. Technically, this has quite a few drawbacks.</p><p>What you want to do is limit the amount of data going through the system. You can do so by saying that at least one client has to actually request something before you start pushing data to it. In more detail, as soon as the first client requests something, publishers can get notified and start publishing data accordingly, and when the last client loses interest the publisher no longer needs to pump that data into the system.</p><p>This works amazingly well for events, where the actual responsibility is taken off the publisher to submit all events constantly, which in turn reduces their resources and costs. In context of hardware, just as IoT sensors, that can mean huge improvements in energy usage. In context of software, it means your load can be split so that you will only ever need to provide a client data depending on a need to know basis.</p><p>Records are just as simple, but if the data within the record is being used as part of a database query it probably wonâ€™t work too well!</p><p>Finally, this approach shines the most for when the data being sent out is actually derived from the content of your request this approach. For example, requesting &#39;weather/germany-berlin-1w&#39; means the publisher needs to know that it will need to send out information for a 1 week forecast.</p><h4>Benefits in scaling</h4><p>You don&#39;t need more than one publisher updating the same record or emitting the same event. But you want to scale your microservices so they can cope with
huge amounts of records and events coming into your system, often from the same third party service. You can use the listen functionality to easily split concerns by handling more specific requests across multiple publishers.</p><p>For example, you could create two identical providers except where one listens to requests to all countries starting with starting with the first half of the alphabet &#39;^weather/[a-k]&#39; and the other to the second half &#39;^weather/[m-z]&#39;. This can be cut into as many publishers as you see fit to easily scale your processes within the cloud.</p><h4>How to implement</h4><p>The full workflow would be as follows:</p><p>The provider listens to records and events matching the name &#39;weather/&#39;</p><pre><code class="lang-javascript">ds.event.listen( &#39;^weather/.*&#39;, onMatch );
</code></pre>
<p>And the onMatch callback will be notified for all the current matches in the system, new ones that come in and old ones that noone is interested in anymore.</p><pre><code class="lang-javascript">function onMatch( subject, provide ) {
    //Subject is the name of the event or record that is being subscribed too

    //If provide is true it means you should start publishing data, if it&#39;s false it means you should stop
}
</code></pre>
<p>If the provider can no longer provide the data, it can stop providing by calling:</p><pre><code class="lang-javascript">ds.event.unlisten( &#39;^weather/.*&#39;, onMatch );
</code></pre>
<p>For more details, a tutorial and code, please look at our FX example here.</p>
		</section>

		<footer class="post-footer">

			<section class="author">

				<img class="author-gravatar" src="//s.gravatar.com/avatar/47342a117d8faf101cc6022488958ca1?s&#x3D;80">
				
				<span class="author-description">
					<h4>About the author</h4>

					<p class="author-bio">
						Yasser enjoys playing with electronics ( usualy ending up soldering new cup holders )
					</p>
				</span>

				<!--
					<p>Read <a href="">more posts</a> by this author.</p>
				
				<div class="author-meta">
					
					
				</div> 
				-->

			</section>

			<section class="share">
				<h4>Share this post</h4>
				<ul class="icons">
					<li>
						<a class="icon fa fa-twitter" href="//twitter.com/share?text=Telling the world what it wants to hear @deepstreamhub&amp;url="
							onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
							<span class="label">Twitter</span>
						</a>
					</li>
					<li>
						<a class="icon fa fa-facebook" href="//www.facebook.com/sharer/sharer.php?u="
						onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
						<span class="label">Facebook</span>
						</a>
					</li>
					<li>
						<a class="icon fa fa-google-plus" href="//plus.google.com/share?url="
					   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
						<span class="label">Google+</span>
					</a>
					</li>
				</ul>
				
			</section>

		<div class="latest-blogs">
			<h4 class="latest-blogs-header">
				Latest Blog Articles
			</h4>
			<ul class="latest-blogs-content">
					<li class="latest-blog-article">
						<a href="">
							<span class="date">16/02/2016</span>
							<span class="title">Telling the world what it wants to hear</span>
						</a>
					</li>
					<li class="latest-blog-article">
						<a href="../what-is-realtime/">
							<span class="date">08/02/2016</span>
							<span class="title">What is realtime?</span>
						</a>
					</li>
					<li class="latest-blog-article">
						<a href="../migrating-parse-com-to-deepstream-io/">
							<span class="date">29/01/2016</span>
							<span class="title">Migrating from Parse.com to deepstream.io</span>
						</a>
					</li>
					<li class="latest-blog-article">
						<a href="../the-unsexy-iot/">
							<span class="date">18/01/2016</span>
							<span class="title">The unsexy IoT</span>
						</a>
					</li>
			</ul>
		</div>		</footer>
	</div>

	<span class="blog-sidebar">
	
		<div class="sidebar-item deepstream-learn-more">
			<h4 class="sidebar-item-header">What is deepstream?</h4>
			
			<p>
				deepstream.io is the open source server thats allows you to create realtime apps with minimal code!
			</p>
	
			<a href="../../">Learn More</a>.
		</div>
	
		<div class="sidebar-item share-story">
			<h4 class="sidebar-item-header">Using deepstream?</h4>
			<div class="share-story community-collaborate-content">
				<img width="100%" src="../../assets/images/ds-stories-background.png" class="share-story-image" >
				<a class="share-story-content" href="mailto:info@deepstream.io">
					tell us what you're building with deepstream and get the t-shirt *
					<span class="comical-warning">
						* warning: t-shirt actually looks good and is desirable
					</span>
				</a>
			</div>	</div>
	
		<div class="sidebar-item deepstream-help-out">
			<h4 class="sidebar-item-header">Community</h4>
			
			<!--<p>
				If your interested in bringing deepstream to your favourite language, please <a href="mailto:info@deepstreamhub.com" target="_top">contact us</a> for any support!
			</p>
			-->
	
			<p>
				Like deepstream.io? Grant it a star!
			</p>
			
			<p>
				<a class="github-button" href="//github.com/deepstreamIO/deepstream.io" data-icon="octicon-star" data-style="mega" data-count-href="/deepstreamIO/deepstream.io/stargazers" data-count-api="/repos/deepstreamIO/deepstream.io#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star deepstreamIO/deepstream.io on GitHub">Star</a>
			</p>
		</div>
	
		<div class="sidebar-item deepstream-latest-posts">
			<div class="latest-blogs">
				<h4 class="latest-blogs-header">
					Latest Blog Articles
				</h4>
				<ul class="latest-blogs-content">
						<li class="latest-blog-article">
							<a href="">
								<span class="date">16/02/2016</span>
								<span class="title">Telling the world what it wants to hear</span>
							</a>
						</li>
						<li class="latest-blog-article">
							<a href="../what-is-realtime/">
								<span class="date">08/02/2016</span>
								<span class="title">What is realtime?</span>
							</a>
						</li>
						<li class="latest-blog-article">
							<a href="../migrating-parse-com-to-deepstream-io/">
								<span class="date">29/01/2016</span>
								<span class="title">Migrating from Parse.com to deepstream.io</span>
							</a>
						</li>
						<li class="latest-blog-article">
							<a href="../the-unsexy-iot/">
								<span class="date">18/01/2016</span>
								<span class="title">The unsexy IoT</span>
							</a>
						</li>
				</ul>
			</div>	</div>
	
	</span></div>	</div>
	<div id="footer">
		<ul class="footer-items">

			<li class="footer-right">
				<ul class="social">
					<li class="twitter">
						<a href="//twitter.com/deepstreamIO">
							<i class="fa fa-twitter"></i>  Twitter
						</a>
					</li>
					<li class="github">
						<a href="//github.com/deepstreamIO">
							<i class="fa fa-github"></i>  Github
						</a>
					</li>
					<a href="//www.facebook.com/deepstreamIO/">
						<i class="fa fa-facebook"></i>  Facebook
					</a>
					<li class="stack-overflow">
						<a href="http://stackoverflow.com/questions/tagged/deepstream.io">
							<i class="fa fa-stack-overflow"></i>  Stack Overflow
						</a>
					</li>
					<li>
						<a href="//deepstream-slack.herokuapp.com/">
							<i class="fa fa-slack"></i>  Slack
						</a>
					</li>
				</ul>
			</li>

			<li class="footer-middle">
				<h4>Browse</h4>
				<ul>
					<li ><a href="../..">Home</a></li>
					<li ><a href="../../download/">Downloads</a></li>
					<li ><a href="../../tutorials/getting-started.html">Tutorials</a></li>
					<li ><a href="../../docs/deepstream.html">Documentation</a></li>
					<li class="active"><a href="../../blog/">Blog</a></li>
					<li ><a href="../../info/">Info</a></li>
				</ul>			</li>

			<li class="footer-left">
				<h4>Star this project on github!</h4>
				<p>
					<a class="github-button" href="//github.com/deepstreamIO/deepstream.io" data-icon="octicon-star" data-style="mega" data-count-href="/deepstreamIO/deepstream.io/stargazers" data-count-api="/repos/deepstreamIO/deepstream.io#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star deepstreamIO/deepstream.io on GitHub">Star</a>
				</p>

				<h4>Contact the team</h4>
				<p>
					<a href="mailto:info@deepstream.io">info@deepstream.io</a>
					<ul class="address">
						<li><strong>deepstreamHub Ltd. &amp; Co. KG</strong></li>
						<li>Amtsgericht Charlottenburg (zu HRA 51371 B)</li>
						<li>Friedrichstrasse 123</li>
						<li>10117 Berlin</li>
					</ul>
				</p>
			</li>

		</ul>
	</div>


	<script async defer id="github-bjs" src="//buttons.github.io/buttons.js"></script>
</body>
</html>
