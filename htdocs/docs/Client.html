<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>GOLDEN LAYOUT - the ultimate javascript layout manager</title>
	
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="deepstream, deepstream.io, streaming, realtime, server, socket" />
	<meta name="description" content="deepstream.io - a scalable server for realtime web apps" />
	<meta name="author" content="Wolfram Hempel" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="../assets/css/screen.css" />
	
	<link rel="stylesheet" type="text/css" href="../assets/css/api.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/syntaxhighlighter.css" />
	
	<script type="text/javascript">
	document.createElement( 'header' );
	document.createElement( 'nav' );
	</script>
	<script type="text/javascript" src="../assets/js/jquery.js"></script>
</head>
<body class="category_docs">

	
	<div id="outerWrapper">
		<div class="topSection">
			
			<div id="header" class="orangeGradient micro">
				<h1><a href="..">deepstream.io - a scalable server for realtime web apps</a></h1>
				
			</div>  
			
			<div id="nav" class="standalone">
				
				<img src="../assets/images/background-abstract.jpg" />
				
				<ul>
					<li ><a href="..">START</a></li>
					<li ><a href="../download">DOWNLOAD</a></li>
					<li ><a href="../tutorials">TUTORIALS</a></li>
					<li class="active"><a href="../docs">DOCS</a></li>
				</ul>
			</div>
		</div>
		
		<div id="wrapper" class="main">
			<ul id="subnav">
	<li class="head first">Server</li>
	<li >
		<a href="Deepstream.html">Deepstream</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>


	<li class="head">JS Client</li>
	<li class="active">
		<a href="Client.html">Client</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
			<ul class="overview">
				
				<li><a href="#deepstream( url, options )">deepstream( url, options )</a></li>
				
				<li><a href="#Events">Events</a></li>
				
				<li><a href="#Connection States">Connection States</a></li>
				
				<li><a href="#Errors">Errors</a></li>
				
				<li><a href="#login( authParams, callback )">login( authParams, callback )</a></li>
				
				<li><a href="#close()">close()</a></li>
				
				<li><a href="#getConnectionState()">getConnectionState()</a></li>
				
				<li><a href="#getUid()">getUid()</a></li>
				
			</ul>
		
	</li>
	<li >
		<a href="client-options.html">Client Options</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
</ul>
			<div id="content">
				<div class="section"><h2><a name="deepstream( url, options )">deepstream( url, options )</a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">url</td><td class="type">String</td><td class="optional">false</td><td class="default">-</td><td class="description">A url in the format &lt;host&gt;:&lt;port&gt;</td></tr><tr><td class="argument">options</td><td class="type">Object</td><td class="optional">true</td><td class="default">-</td><td class="description">A map of options. Please read the segment on <a href="client_options.html">Client Options</a> for details</td></tr></tbody></table><p></tbody></table></p></div><div class="section"><h2><a name="Events">Events</a></h2><h3>connectionStateChanged <connectionState></h3><p>Emitted everytime the connectionState changes. The connectionState is passed to the callback and can also be retrieved using <a href="#getConnectionState()">getConnectionState()</a>. Please find a list of connectionStates <a href="#Connection States">here</a>.</p><h3>error</h3><p>Aggregates all errors that are encountered. Some errors like <code>CONNECTION_ERROR</code> or <code>MESSAGE_PARSE_ERROR</code> are exlusively emitted
by the client, others like <code>ACK_TIMEOUT</code> or <code>VERSION_EXISTS</code> that relate to a specific Record, Event or RPC are emitted first by the object
they relate to and are then forwarded to the client.</p></div><div class="section"><h2><a name="Connection States">Connection States</a></h2><table class="mini">

<tr>
<td>CLOSED</td>
<td>Connection state after the client has been closed, either as a result of calling <code>close()</code> or due to a disconnect
    and multiple failed reconnection attempts.

    Please note: The initial state after the client was created is not &#39;CLOSED&#39;, but &#39;AWAITING_AUTHENTICATION&#39;
</td>
</tr>

<tr>
<td>AWAITING_AUTHENTICATION</td>
<td>State after the client was created, but before <code>login()</code> was called.</td>
</tr>

<tr>
<td>AUTHENTICATING</td>
<td>State after the <code>login()</code> was called, but before the response was received.</td>
</tr>

<tr>
<td>OPEN</td>
<td>State after a successful login.</td>
</tr>

<tr>
<td>ERROR</td>
<td>State after a unrecoverable connection error occured.</td>
</tr>

<tr>
<td>RECONNECTING</td>
<td>State while the client is trying to reconnect.</td>
</tr>

</table>

</div><div class="section"><h2><a name="Errors">Errors</a></h2><table class="mini">

<tr>
<td>CONNECTION_ERROR</td>
<td>Either the Engine.io or TCP connection has encountered an error</td>
</tr>

<tr>
<td>UNSOLICITED_MESSAGE</td>
<td>A message was received that the client didn&#39;t expect, e.g. an update for a record that the client isn&#39;t subscribed to. This doesn&#39;t necessarily have to be an error, but can also be the result of messages crossing on the wire, e.g. when an outgoing record discard and an incoming message overlap.</td>
</tr>

<tr>
<td>MESSAGE_PARSE_ERROR</td>
<td>The client has received a syntactically incorrect message</td>
</tr>

<tr>
<td>IS_CLOSED</td>
<td>Emitted when the client tries to authenticate against an already closed connection.</td>
</tr>

<tr>
<td>VERSION_EXISTS</td>
<td>The client has tried to update a record to a version that the server already has. This might happen if multiple clients try to update the same record at the same time. The best thing to do might be to wait a few milliseconds for the record update to come in and then try again. This error will also be emitted by the affected Record.</td>
</tr>

<tr>
<td>NOT_AUTHENTICATED</td>
<td>Emitted if an operation is attempted before the client is authenticated (before <code>login()</code> has been called and a response was received.)</td>
</tr>

<tr>
<td>ACK_TIMEOUT</td>
<td>The acknowledgement response for a record subscription, event subscription or rpc call hasn&#39;t been received in time. This error is also emitted by the object that encountered it, e.g. the Record or Rpc.</td>
</tr>

<tr>
<td>LISTENER_EXISTS</td>
<td>Emitted when <code>ds.record.listen( pattern, callback )</code> is called more than once for the same pattern</td>
</tr>

<tr>
<td>NOT_LISTENING</td>
<td>Emitted when <code>ds.record.unlisten( pattern )</code> is called for a pattern that no listener exists for.</td>
</tr>

<tr>
<td>TOO_MANY_AUTH_ATTEMPTS</td>
<td>Emitted when the client has made more invalid authentication attempts than the server accepts. This can be configured as <code>maxAuthAttempts</code> on the server.</td>
</tr>

</table>

</div><div class="section"><h2><a name="login( authParams, callback )">login( authParams, callback )</a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">authParams</td><td class="type">Object</td><td class="optional">false</td><td class="default">-</td><td class="description">An object with authentication parameters, e.g. <code>{ username: &#39;PeterA&#39;, password: &#39;sesame&#39; }</code></td></tr><tr><td class="argument">callback</td><td class="type">Function</td><td class="optional">true</td><td class="default">-</td><td class="description">A function that will be called once the response to the authentication request is received.</td></tr></tbody></table><p>Authenticates the client against the server. To learn more about how authentication works, please have a look at the <a href="../tutorials/authentication_and_permissioning.html">Authentication and Permissioning tutorial</a>.</p><p>Callback will be called with three arguments: success (Boolean), errorEvent (String) and errorMessage (String)</p><pre><code><span class="token keyword" >var</span> deepstream <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span> <span class="token string" >'deepstream.io-client-js'</span> <span class="token punctuation" >)</span><span class="token punctuation" >;</span>

ds <span class="token operator" >=</span> <span class="token function" >deepstream<span class="token punctuation" >(</span></span> <span class="token string" >'localhost:6020'</span> <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">
// ds.getConnectionState() will now return 'AWAITING_AUTHENTICATION'
</span>
ds<span class="token punctuation" >.</span><span class="token function" >login<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span> username<span class="token punctuation" >:</span> <span class="token string" >'PeterA'</span><span class="token punctuation" >,</span> password<span class="token punctuation" >:</span> <span class="token string" >'sesame'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span> success<span class="token punctuation" >,</span> errorEvent<span class="token punctuation" >,</span> errorMessage <span class="token punctuation" >)</span><span class="token punctuation" >{</span>
    <span class="token keyword" >if</span><span class="token punctuation" >(</span> success <span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
       <span class="token comment" spellcheck="true"> // start application
</span>       <span class="token comment" spellcheck="true"> // ds.getConnectionState() will now return 'OPEN'
</span>    <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>
        <span class="token function" >alert<span class="token punctuation" >(</span></span> errorMessage <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
       <span class="token comment" spellcheck="true"> // ds.getConnectionState() will now return 'AWAITING_AUTHENTICATION' or 'CLOSED' if the maximum number
</span>       <span class="token comment" spellcheck="true"> // of authentication attempts has been exceeded.
</span>    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">
// ds.getConnectionState() will now return 'AUTHENTICATING'</span>
</code></pre></div><div class="section"><h2><a name="close()">close()</a></h2><p>Closes the connection to the server.</p><pre><code>ds<span class="token punctuation" >.</span><span class="token function" >on<span class="token punctuation" >(</span></span> <span class="token string" >'connectionStateChanged'</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span> connectionState <span class="token punctuation" >)</span><span class="token punctuation" >{</span>
   <span class="token comment" spellcheck="true"> // will be called with 'CLOSED' once the connection is successfully closed.
</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

ds<span class="token punctuation" >.</span><span class="token function" >close<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre></div><div class="section"><h2><a name="getConnectionState()">getConnectionState()</a></h2><p>Returns the current connectionState. Please find a list of available connectionStates <a href="#Connection States">here</a>.</p></div><div class="section"><h2><a name="getUid()">getUid()</a></h2><p>Returnes a unique id. The uid starts with a Base64 encoded timestamt to allow for semi-sequentual ordering and ends in a random string.</p><pre><code>ds<span class="token punctuation" >.</span><span class="token function" >getUid<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token comment" spellcheck="true"> // 'i9i6db5q-1xak1s2sfzk'</span>
</code></pre><p></div></p>
				
				<h3>Comments and Questions</h3>
				<div id="disqusContainer">
					<div id="disqus_thread"></div>
				    <script type="text/javascript">
				        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
				        var disqus_shortname = 'goldenlayoutcom'; // required: replace example with your forum shortname

				        /* * * DON'T EDIT BELOW THIS LINE * * */
				        (function() {
				            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				        })();
				    </script>
				    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
				    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
			    
					
					
				</div>
			</div>
		</div>
		<script type="text/javascript" src="../assets/js/docs.js"></script>
		
		<div id="footerPush"></div>
	</div>
	<div id="footer">
		<div class="copyright">&copy;2014 Hoxton One Ltd. All rights reserved.</div>
		<ul class="footerItems">
			<li class="news">
				<h4>GoldenLayout on...</h4>
				<ul class="social">
					<li class="twitter">
						<a href="https://twitter.com/goldenlayout">Twitter</a>
					</li>
					<li class="github">
						<a href="https://github.com/hoxton-one/golden-layout">Github</a>
					</li>
					<li class="bower">
						<a href="http://bower.io/search/?q=golden-layout">Bower: golden-layout</a>
					</li>
				</ul>
			</li>

			<li class="contact">
				<h4>Contact</h4>
				<p>
					Like to learn more?
					<a href="mailto:info@golden-layout.com">info@golden-layout.com</a>
				</p>
				<p>
					Support for licensees
					<a href="mailto:support@golden-layout.com">support@golden-layout.com</a>
				</p>
				<p>
					For technical questions please also check the comment section at the bottom of docs and tutorials
				</p>
			</li>

			<li class="footerItem about">
				<h4>About</h4>
				<p>
					GoldenLayout is developed by <b>Hoxton One Ltd.</b>, a small Company based in London's dodgy, yet glorious East.
				</p>
				<p>
					<b>Registered Offices</b>:
					Suite 7,
					KD Tower,
					Cotterells,
					Hemel Hempstead,
					Herts,
					HP1 1FW
				</p>
				<p>Registered in England and Wales, Company Nr 09121068</p>
				
			</li>
		</ul>
	</div>


	
		
	
</body>
</html>